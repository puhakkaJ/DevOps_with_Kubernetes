{"ast":null,"code":"import _toConsumableArray from\"/Users/jennipuhakka/kubernetes/DevOps_with_Kubernetes/part1/1.4/app2 (toDo)/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/jennipuhakka/kubernetes/DevOps_with_Kubernetes/part1/1.4/app2 (toDo)/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState(undefined),_useState2=_slicedToArray(_useState,2),image=_useState2[0],setImage=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),todos=_useState4[0],setTodos=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),newTodoValue=_useState6[0],setNewTodo=_useState6[1];var reqUrl=\"localhost:3001\";useEffect(function(){var eventHandler=function eventHandler(response){setImage(Buffer.from(response.data,\"binary\").toString(\"base64\"));};axios.get(reqUrl).then(function(response){console.log(response.data);});//const promise = axios.get(reqUrl, { responseType: \"arraybuffer\" });\n//promise.then(eventHandler);\n//console.log(promise);\nsetTodos([\"TODO 1\",\"TODO 2\"]);},[reqUrl]);var handleTodoChange=function handleTodoChange(event){setNewTodo(event.target.value);};var handleCreateTodo=function handleCreateTodo(event){event.preventDefault();setTodos([].concat(_toConsumableArray(todos),[newTodoValue]));setNewTodo(\"\");console.log(\"Create TODO clicked\",event.target);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{width:\"50%\",height:\"50%\",src:\"data:image/jpeg;charset=utf-8;base64,\".concat(image),alt:\"daily content\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{maxLength:140,size:140,value:newTodoValue,onChange:handleTodoChange}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCreateTodo,children:\"Create TODO\"})]}),/*#__PURE__*/_jsx(\"ul\",{children:todos.map(function(todo){return/*#__PURE__*/_jsx(\"li\",{children:todo},todo);})})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","axios","App","undefined","image","setImage","todos","setTodos","newTodoValue","setNewTodo","reqUrl","eventHandler","response","Buffer","from","data","toString","get","then","console","log","handleTodoChange","event","target","value","handleCreateTodo","preventDefault","map","todo"],"sources":["/Users/jennipuhakka/kubernetes/DevOps_with_Kubernetes/part1/1.4/app2 (toDo)/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nconst App = () => {\n  const [image, setImage] = useState(undefined);\n  const [todos, setTodos] = useState([]);\n  const [newTodoValue, setNewTodo] = useState(\"\");\n  const reqUrl = `localhost:3001`;\n\n  useEffect(() => {\n    const eventHandler = (response) => {\n      setImage(Buffer.from(response.data, \"binary\").toString(\"base64\"));\n    };\n\n      axios\n      .get(reqUrl)\n      .then(response => {\n        console.log(response.data)\n      })\n      //const promise = axios.get(reqUrl, { responseType: \"arraybuffer\" });\n      //promise.then(eventHandler);\n      //console.log(promise);\n    \n\n    setTodos([`TODO 1`, `TODO 2`]);\n  }, [reqUrl]);\n\n  const handleTodoChange = (event) => {\n    setNewTodo(event.target.value);\n  };\n\n  const handleCreateTodo = (event) => {\n    event.preventDefault();\n    setTodos([...todos, newTodoValue]);\n    setNewTodo(\"\");\n    console.log(`Create TODO clicked`, event.target);\n  };\n\n  return (\n    <div>\n      <img\n        width=\"50%\"\n        height=\"50%\"\n        src={`data:image/jpeg;charset=utf-8;base64,${image}`}\n        alt={`daily content`}\n      />\n      <div>\n        <input\n          maxLength={140}\n          size={140}\n          value={newTodoValue}\n          onChange={handleTodoChange}\n        />\n        <button onClick={handleCreateTodo}>Create TODO</button>\n      </div>\n      <ul>\n        {todos.map((todo) => (\n          <li key={todo}>{todo}</li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default App;"],"mappings":"4VAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,MAAP,KAAkB,OAAlB,C,wFAEA,GAAMC,IAAG,CAAG,QAANA,IAAM,EAAM,CAChB,cAA0BH,QAAQ,CAACI,SAAD,CAAlC,wCAAOC,KAAP,eAAcC,QAAd,eACA,eAA0BN,QAAQ,CAAC,EAAD,CAAlC,yCAAOO,KAAP,eAAcC,QAAd,eACA,eAAmCR,QAAQ,CAAC,EAAD,CAA3C,yCAAOS,YAAP,eAAqBC,UAArB,eACA,GAAMC,OAAM,iBAAZ,CAEAV,SAAS,CAAC,UAAM,CACd,GAAMW,aAAY,CAAG,QAAfA,aAAe,CAACC,QAAD,CAAc,CACjCP,QAAQ,CAACQ,MAAM,CAACC,IAAP,CAAYF,QAAQ,CAACG,IAArB,CAA2B,QAA3B,EAAqCC,QAArC,CAA8C,QAA9C,CAAD,CAAR,CACD,CAFD,CAIEf,KAAK,CACJgB,GADD,CACKP,MADL,EAECQ,IAFD,CAEM,SAAAN,QAAQ,CAAI,CAChBO,OAAO,CAACC,GAAR,CAAYR,QAAQ,CAACG,IAArB,EACD,CAJD,EAKA;AACA;AACA;AAGFR,QAAQ,CAAC,mBAAD,CAAR,CACD,CAhBQ,CAgBN,CAACG,MAAD,CAhBM,CAAT,CAkBA,GAAMW,iBAAgB,CAAG,QAAnBA,iBAAmB,CAACC,KAAD,CAAW,CAClCb,UAAU,CAACa,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAV,CACD,CAFD,CAIA,GAAMC,iBAAgB,CAAG,QAAnBA,iBAAmB,CAACH,KAAD,CAAW,CAClCA,KAAK,CAACI,cAAN,GACAnB,QAAQ,8BAAKD,KAAL,GAAYE,YAAZ,GAAR,CACAC,UAAU,CAAC,EAAD,CAAV,CACAU,OAAO,CAACC,GAAR,uBAAmCE,KAAK,CAACC,MAAzC,EACD,CALD,CAOA,mBACE,oCACE,YACE,KAAK,CAAC,KADR,CAEE,MAAM,CAAC,KAFT,CAGE,GAAG,gDAA0CnB,KAA1C,CAHL,CAIE,GAAG,gBAJL,EADF,cAOE,oCACE,cACE,SAAS,CAAE,GADb,CAEE,IAAI,CAAE,GAFR,CAGE,KAAK,CAAEI,YAHT,CAIE,QAAQ,CAAEa,gBAJZ,EADF,cAOE,eAAQ,OAAO,CAAEI,gBAAjB,yBAPF,GAPF,cAgBE,oBACGnB,KAAK,CAACqB,GAAN,CAAU,SAACC,IAAD,qBACT,oBAAgBA,IAAhB,EAASA,IAAT,CADS,EAAV,CADH,EAhBF,GADF,CAwBD,CA3DD,CA6DA,cAAe1B,IAAf"},"metadata":{},"sourceType":"module"}